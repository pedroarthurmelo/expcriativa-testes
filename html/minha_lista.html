<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <title>Minha Lista de Jogos</title>
</head>
<body>
    <h1>Minha Lista</h1>
    <div id="listaJogos">
        Carregando sua lista...
    </div>
    <a href="pagina_elden_ring.php">Voltar ao Elden Ring</a>

    <script>
    async function carregarLista() {
        try {
            const response = await fetch('../php/minha_lista_api.php');
            const data = await response.json();

            const container = document.getElementById('listaJogos');
            if (!data.success) {
                container.innerHTML = '<p>Erro: ' + data.msg + '</p>';
                return;
            }

            if (data.lista.length === 0) {
                container.innerHTML = '<p>Você ainda não adicionou nenhum jogo.</p>';
                return;
            }

            const ul = document.createElement('ul');

            data.lista.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.jogo} - Adicionado em ${item.data_adicionado}`;
                ul.appendChild(li);
            });

            container.innerHTML = '';
            container.appendChild(ul);

        } catch (error) {
            document.getElementById('listaJogos').innerHTML = '<p>Erro ao carregar lista.</p>';
            console.error(error);
        }
    }

    carregarLista();
    </script>
</body>
</html>
